<div>

    <h2>Delete user</h2>


    <form id="fmDeleteUser">
        <div class="mb-3">
            <label for="username" class="form-label">List Username</label>
            <select id="username" class="form-select" aria-label="username">
                <option disabled selected>Open this select username </option>

                {{#each usernames }}
                <option value="{{this.USERNAME}}">{{this.USERNAME}} </option>
                {{/each}}
            </select>
        <button type="submit" class="mt-3 btn btn-primary">Delete</button>
    </form>



</div>

{{#section 'js'}}

<script>
   function deleteUser() {
        const fmDeleteUser= $("#fmDeleteUser");
        const username = $("#username");

        fmDeleteUser.on("submit", function (e) {
            e.preventDefault();
            const data = {
                username: username.val(),
            }
            console.log(data);


            
            $.ajax({
                url: "http://localhost:1212/delete-user",
                type: "delete",
                data: data,
                success: res => {
                    alert("Deleted!")
                },
                error: e => {
                    console.log(e);
                    alert("Something when wrong!!");

                }
            })

        })
    }

    deleteUser();
</script>

{{/section}}